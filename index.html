<!DOCTYPE html>
<html>
  <head>
    <title>Etch-a-Sketch</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="container">
      <h1>Etch-a-Sketch</h1>
      <div class="change-size">
        <button id="sizeChanger">CHANGE SIZE!</button>
      </div>
      <div class="canvas"></div>
    </div>
  </body>
  <script>
    const SEL_CANVAS  = document.querySelector('.canvas');
    const SEL_BUTTON = document.querySelector('#sizeChanger');

    drawGrid();
    SEL_BUTTON.addEventListener('click', handleButtonClick);

    function drawGrid(n = 16) {
      for(let i = 0; i < n; i++) {
        let row = document.createElement('div');
        row.classList.add('row');

        for(let j = 0; j < n; j++) {
          let cell = document.createElement('div');
          cell.classList.add('cell');
          cell.addEventListener('mouseover', handleCellHover);
          row.appendChild(cell);
        }

        SEL_CANVAS.appendChild(row);
      }
    }

    function handleButtonClick(e) {
      let size = prompt('How many squares per side?');
      resetGrid();
      drawGrid(size);
    }

    function resetGrid() {
      SEL_CANVAS.innerHTML = '';
    }

    function handleCellHover() {
      if (this.classList.contains("filled")) {
        this.classList.remove("filled");
      } else {
        this.classList.add("filled");
      }
      console.log(this);
    }
  </script>
</html>
